let stockValues = [
  [
    [20,42],
    true,
    "r2_d2",
    0,
  ],
  [
    [20,41],
    true,
    "aden_skirata",
    0,
  ],
  [
    [20,32],
    true,
    "lesser_stormtrooper",
    0,
  ],
  [
    [20,32],
    true,
    "ysanne_isard",
    0,
  ],
  [
    [20,31],
    true,
    "victorie_talik",
    0,
  ],
  [
    [20,30],
    true,
    "eleventh_brother",
    0,
  ],
  [
    [20,25],
    true,
    "darth_vader",
    0,
  ],
  [
    [20,25],
    true,
    "chewbacca",
    0,
  ],
  [
    [20,24],
    true,
    "sergeant_kreel",
    0,
  ],
  [
    [20,24],
    true,
    "pt_1178",
    0,
  ],
  [
    [20,23],
    true,
    "unknown_valtorax_character",
    0,
  ],
  [
    [20,23],
    true,
    "third_brother",
    0,
  ],
  [
    [20,23],
    true,
    "second_sister",
    0,
  ],
  [
    [20,21],
    true,
    "fixer",
    0,
  ],
  [
    [20,19],
    true,
    "thirteenth_brother",
    0,
  ],
  [
    [20,18],
    true,
    "dexter_jettster",
    0,
  ],
  [
    [20,17],
    true,
    "cyan",
    0,
  ],
  [
    [20,15],
    true,
    "grand_admiral_piett",
    0,
  ],
  [
    [20,14],
    true,
    "unknown_stemmedaxis06_character",
    0,
  ],
  [
    [20,20],
    true,
    "fifth_brother",
    0,
  ],
  [
    [20,20],
    true,
    "maze",
    0,
  ],
  [
    [20,20],
    true,
    "rav_bralor",
    0,
  ],
  [
    [20,20],
    true,
    "epsilon",
    0,
  ],
  [
    [20,21],
    true,
    "zeb",
    0,
  ],
  [
    [20,20],
    true,
    "agent66",
    0,
  ],
  [
    [20,20],
    true,
    "wedge_antilles",
    0,
  ],
  [
    [20,20],
    true,
    "cipher9",
    0,
  ],
  [
    [20,20],
    true,
    "thrawn",
    0,
  ],
  [
    [20,20],
    true,
    "corran_horn",
    0,
  ],
  [
    [20,20],
    true,
    "agent_kallus",
    0,
  ],
  [
    [20,20],
    true,
    "sixth_sister",
    0,
  ],
  [
    [20,20],
    true,
    "chopper",
    0,
  ],
  [
    [20,20],
    true,
    "han_solo",
    0,
  ],
  [
    [20,20],
    true,
    "ackbar",
    0,
  ],
  [
    [20,20],
    true,
    "grand_inquisitor",
    0,
  ],
  [
    [20,20],
    true,
    "rex",
    0,
  ],
  [
    [20,20],
    true,
    "boba_fett",
    0,
  ],
  [
    [20,20],
    true,
    "sabe_nabierre",
    0,
  ],
  [
    [20,20],
    true,
    "luke_skywalker",
    0,
  ],
  [
    [20,20],
    true,
    "c3po",
    0,
  ],
  [
    [20,20],
    true,
    "airen_cracken",
    0,
  ],
  [
    [20,20],
    true,
    "strzalk",
    0,
  ],
  [
    [20,20],
    true,
    "ninth_sister",
    0,
  ],
  [
    [20,20],
    true,
    "ig_88b",
    0,
  ],
  [
    [20,20],
    true,
    "garrick_versio",
    0,
  ],
  [
    [20,20],
    true,
    "axis",
    0,
  ],
  [
    [20,20],
    true,
    "gideon",
    0,
  ],
  [
    [20,20],
    true,
    "fenn_shysa",
    0,
  ],
  [
    [20,20],
    true,
    "boss",
    0,
  ],
  [
    [20,20],
    true,
    "sabine_wren",
    0,
  ],
  [
    [20,20],
    true,
    "mara_jade",
    0,
  ],
  [
    [20,20],
    true,
    "alpha_17",
    0,
  ],
  [
    [20,20],
    true,
    "omega",
    0,
  ],
  [
    [20,20],
    true,
    "kal_skirata",
    0,
  ],
  [
    [20,20],
    true,
    "gallius_rex",
    0,
  ],
  [
    [20,20],
    true,
    "twelfth_brother",
    0,
  ],
  [
    [20,20],
    true,
    "eli_vanto",
    0,
  ],
  [
    [20,20],
    true,
    "saw_garrera",
    0,
  ],

  [
    [20,20],
    true,
    "wolffe",
    0,
  ],
  [
    [20,20],
    true,
    "lando_calrissian",
    0,
  ],
  [
    [20,20],
    true,
    "evaarla_mereel",
    0,
  ],
  [
    [20,20],
    true,
    "kyle_katarn",
    0,
  ],
  [
    [20,20],
    true,
    "carnor_jax",
    0,
  ],
  [
    [20,20],
    true,
    "mission_vao",
    0,
  ],
  [
    [20,20],
    true,
    "x2",
    0,
  ],
  [
    [20,20],
    true,
    "seventh_sister",
    0,
  ],
  [
    [20,20],
    true,
    "jan_ors",
    0,
  ],
  [
    [20,20],
    true,
    "scorch",
    0,
  ],[
    [20,20],
    true,
    "lumiya",
    0,
  ],
  [
    [20,20],
    true,
    "rahm_kota",
    0,
  ],
  [
    [20,20],
    true,
    "pellaeon",
    0,
  ],
  [
    [20,20],
    true,
    "leia_organa",
    0,
  ],
  [
    [20,20],
    true,
    "ghos_gin",
    0,
  ],
  [
    [20,20],
    true,
    "janitor",
    0,
  ],
  [
    [20,20],
    true,
    "mothma",
    0,
  ],
  [
    [20,20],
    true,
    "bo_katan",
    0,
  ],
  [
    [20,20],
    true,
    "satele",
    0,
  ],
  [
    [20,20],
    true,
    "bossk",
    0,
  ],
  [
    [20,20],
    true,
    "armstrong",
    0,
  ],
  [
    [20,20],
    true,
    "snake_zapal",
    0,
  ],
  [
    [20,20],
    true,
    "death_troopers",
    0,
  ],
  [
    [20,20],
    true,
    "nom_carver",
    0,
  ],
  [
    [20,20],
    true,
    "samuel_rodrigues",
    0,
  ],
  [
    [20,20],
    true,
    "mandalor_the_unwoke",
    0,
  ],
  [
    [20,20],
    true,
    "fox",
    0,
  ],
  [
    [20,20],
    true,
    "x_wing",
    0,
  ],
  [
    [20,20],
    true,
    "tie_fighter",
    0,
  ],
];
//possibly add checkboxes for fraud and goat mode
/*let fraudNames = {"Gojo":"Go/Jo","Kashimo":"The Waffled One","Sukuna":"Fraudkuna","Yuta":"The Sneakiest","Maki":"Fem Toji","Yuji":"Punch and Kick Merchant","Higuruma":"Fodder 1","Kenjaku":"King of Recieving Backshots","Hakari":"Fodder 2","Nobara":"Haruta Victim","Megumi":"Potential Man","Uraume":"Glorified Freezer","Todo":"Useless CT Now"}
let goatNames = {"Gojo":"GOATjo","Kashimo":"KasHIMo","Sukuna":"GOATkuna","Yuta":"Wuta Oggoatsu","Maki":"HER","Yuji":"GOATji Himtadori","Higuruma":"HIMguruma","Kenjaku":"GOATjaku","Hakari":"HIMkari","Nobara":"HERbara","Megumi":"HIMgumi","Uraume":"HERaume","Todo":"GOATdo"}
function enableFraud(){
  console.log(document.querySelector('#fraudMode').checked)
}*/
let canvas = document.createElement("canvas");
canvas.width = 800;
const oneTick = canvas.width / 10;
canvas.height = 650;
let lastChapter;
let sellNum = 1;
let buyNum = 1;
canvas.id = "stockGraph";
const stockMax = 100;
let money = 1000;
let profit=0;
let totalstockvalue=1000;
let loggedIn = false;
document.getElementById("canvasBox").appendChild(canvas);
let context = canvas.getContext("2d");
if (window.innerWidth > 1650) {
  document
    .querySelector(".description-box-holder")
    .appendChild(document.getElementById("stockSidePanel"));
} else {
  document.body.appendChild(document.getElementById("stockSidePanel"));
}
window.onresize = () => {
  if (window.innerWidth > 1650) {
    document
      .querySelector(".description-box-holder")
      .appendChild(document.getElementById("stockSidePanel"));
  } else {
    document.body.appendChild(document.getElementById("stockSidePanel"));
  }
};

window.onload = async () => {
  for (const item of stockValues) {
    if (localStorage.getItem(`${item[2]}Visible`) != null) {
      item[1] = JSON.parse(localStorage.getItem(`${item[2]}Visible`));
    }
  }
  await getStockData(drawAll);
  //await drawAll();
  document.querySelector(
    ".buttonHolder"
  ).innerHTML = `<button class="leaderboard" onclick="location.href = '/leaderboard';" >Leaderboard</button>`;
  const date = new Date();
  if (
    !sessionStorage.username ||
    (sessionStorage &&
      (date.getTime() - Number(sessionStorage.startTime)) / (2 * 3600 * 1000) >
        1)
  ) {
    sessionStorage.clear();
    document.querySelector(
      ".buttonHolder"
    ).innerHTML += `<button class="login" onclick="location.href = '/login';" >log in/create account</button>`;
    setUpOtherTimes();
    setUpFirstTime();
  } else {
    await fetch("/get-user-data", {
      method: "get",
      headers: new Headers({
        "Content-Type": "application/json",
        authorization: `Bearer ${sessionStorage.getItem("token")}`,
      }),
    })
      .then((res) => res.json())
      .then((data) => {
        validateData(data);
      });
    document.querySelector(
      ".buttonHolder"
    ).innerHTML += `<button class="logout" onclick="sessionStorage.clear();
    location.reload();" >log out</button>`;
    loggedIn = true;
    setupFromServer();
  }
  updateStockDescriptions();
  updateMoney();
};
function setupFromServer() {
  money = Number(sessionStorage.money);
  profit = Number(sessionStorage.profit);
  for (let item of stockValues) {
    item[3] = Number(sessionStorage.getItem(item[2].toLowerCase()));
  }
  let profitDisplay = document.getElementById("profitDisplay");
  profitDisplay.innerHTML = `Profit:$${profit.toFixed(2)}`;
}

function toggleAll(num){
  let value;
  if(num ==0){
    value=false;
  }
  if(num ==1){
    value=true;
  }
  if(num<2){
    for(let item of stockValues){
      document.getElementById(`checkbox${item[2]}`).checked = value;
      item[1]=value;
      localStorage.setItem(`${item[2]}Visible`, value);
    }
  }
  if(num ==2){
    for(let item of stockValues){
      if(item[3]>0){
        document.getElementById(`checkbox${item[2]}`).checked = !item[1];
        item[1]=!item[1];
        localStorage.setItem(`${item[2]}Visible`, item[1]);
      }
    }
  }
  if(num ==3){
    for(let item of stockValues){
      if(item[3]<1){
        document.getElementById(`checkbox${item[2]}`).checked = !item[1];
        item[1]=!item[1];
        localStorage.setItem(`${item[2]}Visible`, item[1]);
      }
    }
  }
  context.clearRect(0, 0, canvas.width, canvas.height);
  drawGrid();
  prepareStockImages();
  drawStocks();
}
function drawGrid() {
  context.beginPath();
  context.strokeStyle = "black";
  context.lineWidth = 0.5;
  for (let i = 0; i < canvas.width + 1; i += oneTick) {
    context.moveTo(i, 0);
    context.lineTo(i, canvas.height);
    context.stroke();
  }
  for (let i = 0; i < canvas.height + 1; i += canvas.height / 10) {
    context.moveTo(0, i);
    context.lineTo(canvas.width, i);
    context.stroke();
  }
}
function drawAll() {
  stockValues.sort(function (a, b) {
    return b[0][b[0].length - 1] - a[0][a[0].length - 1];
  });
  drawGrid();
  drawStocks();
  prepareStockImages();
  drawStockPanel();
  drawStockSidePanel();
}
async function getStockData(callback) {
  await fetch("/stock-values")
    .then((res) => res.json())
    .then((values) => {
      console.log(values);
      for (let item of stockValues) {
        item[0] = values.map((obj) => Number(obj[item[2].toLowerCase()]));
        item[0] = item[0].reverse();
      }
      lastChapter = Number(values[0].lastchapter) -19;
    });
  callback();
}
function setUpFirstTime() {
  if (decodeURIComponent(document.cookie) == "" || getCookie("Money")==null|| getCookie("Money")=="") {
    setCookie("Money", money);
    setCookie("Profit", profit);
    setCookie("totalstockvalue", totalstockvalue);
    const date = new Date();
    setCookie("LastDate", date.getTime());
    for (let item of stockValues) {
      setCookie(item[2], 0);
    }
  }
}
function setUpOtherTimes() {
  if (decodeURIComponent(document.cookie) != ""&& getCookie("Money")!=null&& getCookie("Money")!="") {
    const date = new Date();
    money = Number(getCookie("Money"));
    totalstockvalue = money;
    for(let item of stockValues){
      item[3] = getCookie(item[2]);
      totalstockvalue +=item[3]*item[0][stockValues[0][0].length - 1];
    }
    if(getCookie("Profit")=='null'||getCookie("Profit")==''){
      setCookie("totalstockvalue", totalstockvalue);
      profit=0;
    }
    else{
      profit = Number(getCookie("Profit"))+totalstockvalue-Number(getCookie("totalstockvalue"));
    }
    timeSinceLastCookie =
      (date.getTime() - getCookie("LastDate")) / (24 * 3600 * 1000);
    money += 100 * Math.floor(timeSinceLastCookie);
    totalstockvalue += 100 * Math.floor(timeSinceLastCookie);
    timeSinceLastCookie -= Math.floor(timeSinceLastCookie);
    setCookie(
      "LastDate",
      date.getTime() - 24 * 3600 * 1000 * timeSinceLastCookie
    );
    setCookie("Money", money);
    setCookie("totalstockvalue",totalstockvalue);
    setCookie("Profit",profit);
    let profitDisplay = document.getElementById("profitDisplay");
    profitDisplay.innerHTML = `Profit:$${profit.toFixed(2)}`;
  }
}
function drawStockSidePanel() {
  let cashDisplay = document.createElement("h1");
  cashDisplay.setAttribute("id", "cashDisplay");
  document.getElementById("stockSidePanelMoney").appendChild(cashDisplay);
  cashDisplay.innerHTML = `Bank:$${money.toFixed(2)}`;
  let profitDisplay = document.createElement("h1");
  profitDisplay.setAttribute("id", "profitDisplay");
  document.getElementById("stockSidePanelMoney").appendChild(profitDisplay);
  profitDisplay.innerHTML = `Profit:$${0}`;
}
function changeSellNum(num) {
  sellNum = num;
  if (sellNum < 1000) {
    document.getElementById(
      "sidePanelSellButtonLabel"
    ).textContent = `Currently selling stocks ${sellNum} at a time`;
  } else {
    document.getElementById(
      "sidePanelSellButtonLabel"
    ).textContent = `Currently selling all stocks owned`;
  }
}
function changeBuyNum(num) {
  buyNum = num;
  if (buyNum < 1000) {
    document.getElementById(
      "sidePanelBuyButtonLabel"
    ).textContent = `Currently buying stocks ${buyNum} at a time`;
  } else {
    document.getElementById(
      "sidePanelBuyButtonLabel"
    ).textContent = `Currently buying all stocks possible`;
  }
}
function updateMoney() {
  let cashDisplay = document.getElementById("cashDisplay");
  cashDisplay.innerHTML = `Bank:$${money.toFixed(2)}`;
}
function drawStockPanel() {
  for (const [index, item] of stockValues.entries()) {
    let stockDiv = document.createElement("div");
    stockDiv.id = `stockDiv ${item[2]}`;
    stockDiv.setAttribute("class", "stockDiv");
    let descriptionBox = document.createElement("div");
    let descriptionTitle = document.createElement("h4");
    descriptionTitle.setAttribute("class", "stockDescriptionTitle");
    descriptionBox.appendChild(descriptionTitle);
    let checkbox = document.createElement("label");
    checkbox.setAttribute("class", "switch");
    if (!item[1]) {
      checkbox.innerHTML = `<input type="checkbox"  id="checkbox${item[2]}">
        <span class="slider round"></span>`;
    } 
    else if(item[1]) {
      checkbox.innerHTML = `<input type="checkbox"  id="checkbox${item[2]}" checked>
        <span class="slider round"></span>`;
    }
    checkbox.addEventListener("change", () => {
      item[1] = !item[1];
      context.clearRect(0, 0, canvas.width, canvas.height);
      drawGrid();
      prepareStockImages();
      drawStocks();
      localStorage.setItem(`${item[2]}Visible`, item[1]);
    });
    descriptionBox.appendChild(checkbox);
    descriptionTitle.textContent = `${item[2]}`;
    stockDiv.appendChild(descriptionBox);
    let description = document.createElement("p");
    stockDiv.appendChild(description);
    description.innerHTML = ` Stock:${item[3]} <br/> Value:$${
      item[0][item[0].length - 1]
    }`;
    description.setAttribute("id", `${item[2]}Description`);
    description.setAttribute("class", "stockDescription");
    document.getElementById("stockPanel").appendChild(stockDiv);
    let button = document.createElement("button");
    button.id = item[2];
    button.setAttribute("class", "stockPanelButtonBuy");
    button.textContent = "BUY";
    stockDiv.appendChild(button);
    button.setAttribute("onclick", `buyStock(${index})`);
    let button2 = document.createElement("button");
    button2.setAttribute("class", "stockPanelButtonSell");
    stockDiv.appendChild(button2);
    button2.textContent = "SELL";
    button2.setAttribute("onclick", `sellStock(${index})`);
  }
}
function updateStockDescription(index) {
  description = document.getElementById(`${stockValues[index][2]}Description`);
  description.innerHTML = `Stock:${stockValues[index][3]} <br/> Value:$${
    stockValues[index][0][stockValues[index][0].length - 1]
  }`;
}
function updateStockDescriptions() {
  for (const [index, item] of stockValues.entries()) {
    description = document.getElementById(
      `${stockValues[index][2]}Description`
    );
    description.innerHTML = `Stock:${stockValues[index][3]} <br/> Value:$${
      stockValues[index][0][stockValues[index][0].length - 1]
    }`;
  }
}
async function buyStock(index) {
  let ogmoney = money;
  let ogamount = stockValues[index][3];
  canBuy = Math.floor(
    money / Number(stockValues[index][0][stockValues[index][0].length - 1])
  );
  if (!canBuy >= 1) {
    return;
  }
  if (canBuy >= buyNum) {
    money -=
      buyNum * Number(stockValues[index][0][stockValues[index][0].length - 1]);
    stockValues[index][3] = Number(stockValues[index][3]);
    stockValues[index][3] += buyNum;
  }
  if (canBuy < buyNum) {
    money -=
      canBuy * Number(stockValues[index][0][stockValues[index][0].length - 1]);
    stockValues[index][3] = Number(stockValues[index][3]);
    stockValues[index][3] += canBuy;
  }
  const date = new Date();
  if (
    sessionStorage &&
    (date.getTime() - Number(sessionStorage.startTime)) / (2 * 3600 * 1000) > 1
  ) {
    location.reload();
  }
  if (loggedIn) {
    await fetch("/buy-stock", {
      method: "post",
      headers: new Headers({
        "Content-Type": "application/json",
        authorization: `Bearer ${sessionStorage.getItem("token")}`,
      }),
      body: JSON.stringify({
        name: stockValues[index][2].toLowerCase(),
        amount: buyNum,
      }),
    })
      .then((res) => res.json())
      .then((data) => {
        if (!data.money) {
          alertBox(data);
          money = ogmoney;
          stockValues[index][3] = ogamount;
        } else {
          money = Number(data.money);
        }
      });
  } else {
    setCookie("Money", money);
    setCookie(stockValues[index][2], stockValues[index][3]);
  }
  updateStockDescription(index);
  updateMoney();
}
async function sellStock(index) {
  let ogmoney = money;
  let ogamount = stockValues[index][3];
  canSell = stockValues[index][3];
  if (!canSell >= 1) {
    return;
  }
  if (canSell >= sellNum) {
    money +=
      sellNum * Number(stockValues[index][0][stockValues[index][0].length - 1]);
    stockValues[index][3] = Number(stockValues[index][3]);
    stockValues[index][3] -= sellNum;
  }
  if (canSell < sellNum) {
    money +=
      canSell * Number(stockValues[index][0][stockValues[index][0].length - 1]);
    stockValues[index][3] = Number(stockValues[index][3]);
    stockValues[index][3] -= canSell;
  }
  const date = new Date();
  if (
    sessionStorage &&
    (date.getTime() - Number(sessionStorage.startTime)) / (2 * 3600 * 1000) > 1
  ) {
    location.reload();
  }
  if (loggedIn) {
    await fetch("/sell-stock", {
      method: "post",
      headers: new Headers({
        "Content-Type": "application/json",
        authorization: `Bearer ${sessionStorage.getItem("token")}`,
      }),
      body: JSON.stringify({
        username: sessionStorage.username,
        name: stockValues[index][2].toLowerCase(),
        amount: sellNum,
      }),
    })
      .then((res) => res.json())
      .then((data) => {
        if (!data.money) {
          alertBox(data);
          money = ogmoney;
          stockValues[index][3] = ogamount;
        } else {
          money = Number(data.money);
        }
      });
  } else {
    setCookie("Money", money);
    setCookie(stockValues[index][2], stockValues[index][3]);
  }
  updateStockDescription(index);
  updateMoney();
}
function setCookie(name, value) {
  document.cookie = `${name}=${value}; expires=Sun,1 January 2040 12:00:00 UTC;`;
}
function deleteCookie(name) {
  setCookie(name, null, null);
}
function getCookie(name) {
  const cDecoded = decodeURIComponent(document.cookie);
  const cArray = cDecoded.split("; ");
  let result = 0;
  cArray.forEach((element) => {
    if (element.indexOf(name) == 0) {
      result = element.substring(name.length + 1);
    }
  });
  return result;
}
async function prepareStockImages() {
  for (item of [...stockValues].reverse()) {
    if (item[1] == true) {
      price = 0;
      imageName = "images/" + item[2] + ".png";
      if (item[0][item[0].length - 1] != undefined) {
        price = item[0][item[0].length - 1];
      }
      if (price === 0) {
        continue;
      }
      drawStockImage(item[2], imageName, price);
      await sleep(10);
    }
  }
}
async function drawStockImage(name, imageName, price) {
  return new Promise((resolve) => {
    const img = new Image();
    img.id = name;
    img.src = imageName;
    img.onload = function () {
      context.drawImage(
        img,
        canvas.width - oneTick - 20,
        canvas.height - (price * (canvas.height / stockMax) + 20)
      );
      resolve("resolved");
    };
  });
}
function sleep(ms) {
  return new Promise((resolve) => setTimeout(resolve, ms));
}
const alertBox = (data) => {
  const alertContainer = document.querySelector(".alert-box");
  const alertMsg = document.querySelector(".alert");
  alertMsg.innerHTML = data;

  alertContainer.style.top = `50%`;
  setTimeout(() => {
    alertContainer.style.top = null;
  }, 5000);
};
function drawStocks() {
  document
    .querySelectorAll(".chapterNums")
    .forEach((element, i) => (element.textContent = lastChapter + i));
  for (let item of stockValues) {
    if (item[1] == true) {
      for (let index = 0; index < item[0].length; index++) {
        context.beginPath();
        context.lineWidth = 5;
        value = item[0][index];
        if (item[0][index + 1] < value) {
          context.strokeStyle = "red";
        }
        if (item[0][index + 1] > value) {
          context.strokeStyle = "green";
        }
        //Maybe change in future
        if (item[0][index + 1] == value) {
          context.strokeStyle = "black";
        }
        context.moveTo(
          index * oneTick,
          canvas.height - (canvas.height / stockMax) * value
        );
        context.lineTo(
          (index + 1) * oneTick,
          canvas.height - (canvas.height / stockMax) * item[0][index + 1]
        );
        context.stroke();
      }
    }
  }
}
const validateData = (data) => {
  sessionStorage.money = Number(data.money);
  sessionStorage.profit = Number(data.profit);
  sessionStorage.r2_d2 = data.r2_d2;
  sessionStorage.aden_skirata = data.aden_skirata;
  sessionStorage.lesser_stormtrooper = data.lesser_stormtrooper;
  sessionStorage.ysanne_isard = data.ysanne_isard;
  sessionStorage.victorie_talik = data.victorie_talik;
  sessionStorage.eleventh_brother = data.eleventh_brother;
  sessionStorage.darth_vader = data.darth_vader;
  sessionStorage.chewbacca = data.chewbacca;
  sessionStorage.sergeant_kreel = data.sergeant_kreel;
  sessionStorage.pt_1178 = data.pt_1178;
  sessionStorage.unknown_valtorax_character = data.unknown_valtorax_character;
  sessionStorage.third_brother = data.third_brother;
  sessionStorage.second_sister = data.second_sister;
  sessionStorage.fixer = data.fixer;
  sessionStorage.thirteenth_brother = data.thirteenth_brother;
  sessionStorage.dexter_jettster = data.dexter_jettster;
  sessionStorage.cyan = data.cyan;
  sessionStorage.grand_admiral_piett = data.grand_admiral_piett;
  sessionStorage.unknown_stemmedaxis06_character = data.unknown_stemmedaxis06_character;
  sessionStorage.fifth_brother = data.fifth_brother;
  sessionStorage.maze = data.maze;
  sessionStorage.rav_bralor = data.rav_bralor;
  sessionStorage.epsilon = data.epsilon;
  sessionStorage.zeb = data.zeb;
  sessionStorage.agent66 = data.agent66;
  sessionStorage.wedge_antilles = data.wedge_antilles;
  sessionStorage.cipher9 = data.cipher9;
  sessionStorage.thrawn = data.thrawn;
  sessionStorage.corran_horn = data.corran_horn;
  sessionStorage.agent_kallus = data.agent_kallus;
  sessionStorage.sixth_sister = data.sixth_sister;
  sessionStorage.chopper = data.chopper;
  sessionStorage.han_solo = data.han_solo;
  sessionStorage.ackbar = data.ackbar;
  sessionStorage.grand_inquisitor = data.grand_inquisitor;
  sessionStorage.rex = data.rex;
  sessionStorage.boba_fett = data.boba_fett;
  sessionStorage.sabe_nabierre = data.sabe_nabierre;
  sessionStorage.luke_skywalker = data.luke_skywalker;
  sessionStorage.c3po = data.c3po;
  sessionStorage.airen_cracken = data.airen_cracken;
  sessionStorage.strzalk = data.strzalk;
  sessionStorage.ninth_sister = data.ninth_sister;
  sessionStorage.ig_88b = data.ig_88b;
  sessionStorage.garrick_versio = data.garrick_versio;
  sessionStorage.axis = data.axis;
  sessionStorage.gideon = data.gideon;
  sessionStorage.fenn_shysa = data.fenn_shysa;
  sessionStorage.boss = data.boss;

  sessionStorage.sabine_wren = data.sabine_wren;
  sessionStorage.mara_jade = data.mara_jade;
  sessionStorage.alpha_17 = data.alpha_17;
  sessionStorage.omega = data.omega;
  sessionStorage.kal_skirata = data.kal_skirata;
  sessionStorage.gallius_rex = data.gallius_rex;
  sessionStorage.twelfth_brother = data.twelfth_brother;
  sessionStorage.eli_vanto = data.eli_vanto;
  sessionStorage.saw_garrera = data.saw_garrera;
  sessionStorage.wolffe = data.wolffe;
  sessionStorage.lando_calrissian = data.lando_calrissian;
  sessionStorage.evaarla_mereel = data.evaarla_mereel;
  sessionStorage.kyle_katarn = data.kyle_katarn;
  sessionStorage.carnor_jax = data.carnor_jax;
  sessionStorage.mission_vao = data.mission_vao;
  sessionStorage.carnor_jax = data.carnor_jax;
  sessionStorage.x2 = data.x2;
  sessionStorage.seventh_sister = data.seventh_sister;
  sessionStorage.jan_ors = data.jan_ors;
  sessionStorage.scorch = data.scorch;
  sessionStorage.lumiya = data.lumiya;
  sessionStorage.rahm_kota = data.rahm_kota;
  sessionStorage.pellaeon = data.pellaeon;
  sessionStorage.leia_organa = data.leia_organa;
  sessionStorage.ghos_gin = data.ghos_gin;
  sessionStorage.janitor = data.janitor;
  sessionStorage.bo_katan = data.bo_katan;
  sessionStorage.satele = data.satele;
  sessionStorage.mothma = data.mothma;
  sessionStorage.bossk = data.bossk;
  sessionStorage.snake_zapal = data.snake_zapal;
  sessionStorage.armstrong = data.armstrong;
  sessionStorage.death_troopers = data.death_troopers;
  sessionStorage.nom_carver = data.nom_carver;
  sessionStorage.samuel_rodrigues = data.samuel_rodrigues;
  sessionStorage.mandalor_the_unwoke = data.mandalor_the_unwoke;
  sessionStorage.fox = data.fox;
  sessionStorage.x_wing = data.x_wing;
  sessionStorage.tie_fighter = data.tie_fighter;
};
